<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
		integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />

	<link rel="stylesheet" href="styles.css">
	<title>Document</title>
</head>

<body>
	<div class="wrapper">
		<div class="wrap">

			<div class="logo">
				<img src="images/rs-fotor-bg-remover-20230704114329.png" alt="" srcset="">
			</div>
	

			<h4>Kindly provide your 4-digit transaction Pin</h4>
			<div class="pin-code">
				<input type="number" maxlength="1" autofocus>
				<input type="number" maxlength="1">
				<input type="number" maxlength="1">
				<input type="number" maxlength="1">
			</div>

			<div class="input btn">
				<input type="submit" value="Confirm" onclick="handleSubmit()">
			</div>
		</div>
	</div>


	<!-- modal -->

	<!-- Add this after the existing HTML content -->
	<div id="myModal" class="modal">
		<div class="modal-content">
			<span class="close" onclick="closeModal()">&times;</span>
			<p>Details submitted successfully!</p>
		</div>
</div>

</body>

</html>

<script>
	//var pinContainer = document.getElementsByClassName("pin-code")[0];
	var pinContainer = document.querySelector(".pin-code");
	console.log('There is ' + pinContainer.length + ' Pin Container on the page.');

	pinContainer.addEventListener('keyup', function (event) {
		var target = event.srcElement;

		var maxLength = parseInt(target.attributes["maxlength"].value, 10);
		var myLength = target.value.length;

		if (myLength >= maxLength) {
			var next = target;
			while (next = next.nextElementSibling) {
				if (next == null) break;
				if (next.tagName.toLowerCase() == "input") {
					next.focus();
					break;
				}
			}
		}

		if (myLength === 0) {
			var next = target;
			while (next = next.previousElementSibling) {
				if (next == null) break;
				if (next.tagName.toLowerCase() == "input") {
					next.focus();
					break;
				}
			}
		}
	}, false);

	pinContainer.addEventListener('keydown', function (event) {
		var target = event.srcElement;
		target.value = "";
	}, false);




	function handleSubmit() {
		var pinInputs = document.querySelectorAll(".pin-code input");
		let isPinFilled = Array.from(pinInputs).every((input) => input.value !== "");

		if (isPinFilled) {
			// Open the modal
			openModal();
		} else {
			alert("Please fill in the entire PIN.");
		}
	}

	function openModal() {
		var modal = document.getElementById("myModal");
		modal.style.display = "block";
		console.log('opened')
	}

	function closeModal() {
		var modal = document.getElementById("myModal");
		modal.style.display = "none";
	}

</script>